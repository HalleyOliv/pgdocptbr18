<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>1.3. Criação de banco de dados - PostgreSQL 18.1</title><link rel="stylesheet" type="text/css" href="stylesheet.css" /><link rev="made" href="pgsql-docs@lists.postgresql.org" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="prev" href="tutorial-arch.html" title="1.2. Conceitos básicos da arquitetura" /><link rel="next" href="tutorial-accessdb.html" title="1.4. Acesso a banco de dados" /></head><body id="docContent" class="container-fluid col-10"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="5" align="center">1.3. Criação de banco de dados</th></tr><tr><td width="10%" align="left"><a accesskey="p" href="tutorial-arch.html" title="1.2. Conceitos básicos da arquitetura">Anterior</a> </td><td width="10%" align="left"><a accesskey="u" href="tutorial-start.html" title="Capítulo 1. Começando">Acima</a></td><th width="60%" align="center">Capítulo 1. Começando</th><td width="10%" align="right"><a accesskey="h" href="index.html" title="Documentação do PostgreSQL 18.1">Principal</a></td><td width="10%" align="right"> <a accesskey="n" href="tutorial-accessdb.html" title="1.4. Acesso a banco de dados">Próxima</a></td></tr></table><hr /></div><div class="sect1" id="TUTORIAL-CREATEDB"><div class="titlepage"><div><div><h2 class="title" style="clear: both">1.3. Criação de banco de dados <a href="#TUTORIAL-CREATEDB" class="id_link">#</a></h2></div></div></div><a id="id-1.4.3.4.2" class="indexterm"></a><a id="id-1.4.3.4.3" class="indexterm"></a><p>
    O primeiro teste para verificar se é possível acessar o servidor de
    banco de dados é tentar criar um banco de dados. Um servidor
    <span class="productname">PostgreSQL</span> em execução pode gerenciar
    muitos bancos de dados. Normalmente é utilizado um banco de dados em
    separado para cada projeto ou para cada usuário.
   </p><p>
    É possível que o seu administrador já tenha criado um banco de dados
    para você. Nesse caso, esta etapa pode ser omitida e ir direto para a
    próxima seção.
   </p><p>
    Para criar um novo banco de dados a partir da linha de comando, chamado 
    <code class="literal">meu_bd</code> nesse exemplo, deve ser utilizado o comando:
</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>createdb meu_bd</code></strong>
</pre><p>
    Se esse comando não produzir resposta, esta etapa foi bem-sucedida
    e você pode pular o restante dessa seção.
   </p><p>
    Se aparecer uma mensagem semelhante a:
</p><pre class="screen">
createdb: comando não encontrado
</pre><p>
    então o <span class="productname">PostgreSQL</span> não foi instalado da
    maneira correta. Ou ele não foi instalado, ou o caminho de procura
    não foi definido corretamente para incluí-lo.
    Tente executar o comando utilizando o caminho absoluto:
</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>/usr/local/pgsql/bin/createdb meu_bd</code></strong>
</pre><p>
    O caminho na sua máquina pode ser diferente.
     <a href="#ftn.id-1.4.3.4.7.4" class="footnote"><sup class="footnote" id="id-1.4.3.4.7.4">[3]</sup></a>

    Fale com o administrador, ou verifique novamente as instruções de
    instalação para corrigir o comando.
   </p><p>
    Outra resposta pode ser esta:
</p><pre class="screen">
createdb: erro: a conexão com o servidor no soquete "/tmp/.s.PGSQL.5432" falhou: Arquivo ou diretório inexistente
    O servidor está em execução localmente e aceitando conexões nesse soquete?
</pre><p>
    Significando que o servidor não foi iniciado, ou que não está
    escutando onde o <code class="command">createdb</code> esperava encontrá-lo.
    Novamente, verifique as instruções de instalação ou consulte o
    administrador.
   </p><p>
    Outra resposta pode ser esta:
</p><pre class="screen">
createdb: erro: a conexão com o servidor no soquete "/var/run/postgresql/.s.PGSQL.5432" falhou: FATAL:  role "halley" não existe
</pre><p>
    onde é mencionado o nome de seu <span class="foreignphrase"><em class="foreignphrase">login</em></span>
    em vez de <code class="literal">halley</code>.
    Isso acontecerá se o administrador não tiver criado uma conta de
    usuário do <span class="productname">PostgreSQL</span> para seu uso
    (As contas de usuário do <span class="productname">PostgreSQL</span>
    são distintas das contas de usuário do sistema operacional).
    Se você for o administrador, obtenha ajuda para criar contas em
    <a class="xref" href="user-manag.html" title="Capítulo 21. Database Roles">Capítulo 21</a>.
    Será necessário se tornar o usuário do sistema operacional que
    instalou o <span class="productname">PostgreSQL</span> (geralmente
    <code class="literal">postgres</code>) para criar a primeira conta de usuário.
     <a href="#ftn.id-1.4.3.4.9.9" class="footnote"><sup class="footnote" id="id-1.4.3.4.9.9">[4]</sup></a>
    Também pode ter sido atribuído para você um nome de usuário do
    <span class="productname">PostgreSQL</span> diferente do nome de usuário
    do sistema operacional; nesse caso, será necessário utilizar a opção
    <code class="option">-U</code>, ou definir a variável de ambiente
    <code class="envar">PGUSER</code>, para especificar seu nome de usuário do
    <span class="productname">PostgreSQL</span>.
   </p><p>
    Se você tiver uma conta de usuário, mas essa conta não possuir o
    privilégio necessário para criar bancos de dados, será exibida a
    seguinte mensagem:
</p><pre class="screen">
createdb: erro: criação do banco de dados falhou: ERRO:  permissão negada ao criar banco de dados
</pre><p>
    Nem todo usuário possui autorização para criar bancos de dados.
    Se o <span class="productname">PostgreSQL</span> se recusar a criar o
    banco de dados para você, então o administrador do banco de dados
    deverá conceder permissão para você criar bancos de dados.
    Consulte o administrador caso isso ocorra. Se você mesmo instalou o
    <span class="productname">PostgreSQL</span>, então você deverá se conectar
    ao <span class="productname">PostgreSQL</span> sob a mesma conta de
    usuário do sistema operacional utilizada para iniciar o servidor,
    para as finalidades desse tutorial.
    <a href="#ftn.id-1.4.3.4.10.5" class="footnote"><sup class="footnote" id="id-1.4.3.4.10.5">[5]</sup></a>
   </p><p>
    Também podem ser criados bancos de dados com outros nomes.
    O <span class="productname">PostgreSQL</span> permite a criação de
    qualquer número de bancos de dados em uma dada instalação.
    Os nomes dos bancos de dados devem ter o primeiro caractere
    alfabético, e limitados a um comprimento de 63 bytes.
    Uma escolha conveniente é criar o banco de dados com o mesmo nome
    do usuário corrente do sistema operacional. Muitas ferramentas
    assumem esse nome de banco de dados como o nome padrão,
    evitando a necessidade de digitá-lo. Para criar esse banco de
    dados deve ser digitado apenas:
</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>createdb</code></strong>
</pre><p>
   </p><p>
    Se não desejar mais utilizar um banco de dados, você poderá
    removê-lo. Por exemplo, se você for o dono (criador) do banco de
    dados <code class="literal">meu_bd</code>, poderá removê-lo utilizando o
    seguinte comando:
</p><pre class="screen">
<code class="prompt">$</code> <strong class="userinput"><code>dropdb meu_bd</code></strong>
</pre><p>
    (Para esse comando o nome de usuário do sistema operacional não é
    utilizado como nome padrão do banco de dados: o nome deve ser sempre
    especificado.) Esta ação remove fisicamente todos os arquivos
    associados ao banco de dados não podendo ser desfeita, portanto esta
    operação somente deve ser feita após um longo período de reflexão.
   </p><p>
    Podem ser encontradas informações adicionais sobre os utilitários
    <code class="command">createdb</code> e <code class="command">dropdb</code> em
    <a class="xref" href="app-createdb.html" title="createdb"><span class="refentrytitle"><span class="application">createdb</span></span></a> e <a class="xref" href="app-dropdb.html" title="dropdb"><span class="refentrytitle"><span class="application">dropdb</span></span></a>,
    respectivamente.
   </p><div class="footnotes"><br /><hr style="width:100; text-align:left;margin-left: 0" /><div id="ftn.id-1.4.3.4.7.4" class="footnote"><p><a href="#id-1.4.3.4.7.4" class="para"><sup class="para">[3] </sup></a>
       <code class="filename">/usr/bin/postgres</code> no
       <span class="productname">Fedora</span> e em outras distribuições do
       <span class="productname">Linux</span>. (N. T.)
      </p></div><div id="ftn.id-1.4.3.4.9.9" class="footnote"><p><a href="#id-1.4.3.4.9.9" class="para"><sup class="para">[4] </sup></a>
       Para se tornar o usuário do sistema operacional
       <code class="filename">postgres</code>, pode ser usado o comando para
       substituir o usuário
       <a class="ulink" href="https://man7.org/linux/man-pages/man1/su.1.html" target="_top">su</a>,
       como em <strong class="userinput"><code>sudo su - postgres</code></strong>. (N. T.)
      </p></div><div id="ftn.id-1.4.3.4.10.5" class="footnote"><p><a href="#id-1.4.3.4.10.5" class="para"><sup class="para">[5] </sup></a>
      Como uma explicação de por que isso funciona: os nomes de
      usuário do <span class="productname">PostgreSQL</span> são distintos
      das contas de usuário do sistema operacional. Ao se conectar com
      um banco de dados, você pode escolher o nome do usuário do
      <span class="productname">PostgreSQL</span> com o qual deseja fazer a
      conexão; se não especificar o usuário, o padrão é utilizar
      um nome igual ao da conta corrente do sistema operacional.
      Como isso ocorre, sempre existirá uma conta de usuário do
      <span class="productname">PostgreSQL</span> com nome igual ao do usuário
      do sistema operacional que iniciou o servidor, e esse usuário
      sempre tem permissão para criar banco de dados.
      Em vez de efetuar o <span class="foreignphrase"><em class="foreignphrase">login</em></span> no
      sistema operacional como esse usuário, pode ser especificada a
      opção <code class="option">-U</code> em todas as aplicações para escolher o
      nome do usuário do <span class="productname">PostgreSQL</span> com o
      qual se deseja conectar.
     </p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="tutorial-arch.html" title="1.2. Conceitos básicos da arquitetura">Anterior</a> </td><td width="20%" align="center"><a accesskey="u" href="tutorial-start.html" title="Capítulo 1. Começando">Acima</a></td><td width="40%" align="right"> <a accesskey="n" href="tutorial-accessdb.html" title="1.4. Acesso a banco de dados">Próxima</a></td></tr><tr><td width="40%" align="left" valign="top">1.2. Conceitos básicos da arquitetura </td><td width="20%" align="center"><a accesskey="h" href="index.html" title="Documentação do PostgreSQL 18.1">Principal</a></td><td width="40%" align="right" valign="top"> 1.4. Acesso a banco de dados</td></tr></table></div></body></html>